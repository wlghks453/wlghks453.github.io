---
layout: default
title: CONNECTION POOL
parent: SPRING DB
grand_parent: 스프링
nav_order: 2
---


## 목차
{: .no_toc .text-delta }

1. TOC
{:toc}

---

# 🌐 커넥션 풀(Connection Pool)의 등장 배경

데이터베이스와의 연결을 통한 데이터 처리는 모든 현대 애플리케이션에서 필수적입니다. 각 데이터베이스에 접속하기 위한 커넥션을 매번 새로 생성하고 해제하는 과정은 시간과 자원을 많이 소모합니다. 이런 문제를 해결하기 위해 커넥션 풀이 등장했습니다.

## 커넥션을 맺는 전통적인 방법의 문제점

전통적으로 애플리케이션은 데이터베이스에 접속할 때마다 다음과 같은 단계를 거칩니다:

1. 애플리케이션 서버가 데이터베이스 드라이버를 통해 DB 커넥션을 요청합니다.
2. 데이터베이스 서버는 TCP/IP 연결을 생성합니다.
3. 사용자 인증 정보(ID, 비밀번호)를 전달합니다.
4. 데이터베이스 서버는 세션을 생성하고 커넥션을 활성화합니다.
5. 데이터 처리가 끝나면 애플리케이션은 커넥션을 종료합니다.

이 과정은 매번 반복되며, 각 단계마다 시간이 소요되어 효율성이 떨어집니다.


## 커넥션 풀의 등장

커넥션 풀은 이런 문제를 해결하기 위해 미리 일정 수의 데이터베이스 커넥션을 생성하고 관리합니다. 애플리케이션은 필요할 때마다 이 풀에서 커넥션을 가져다 사용하고, 사용이 끝난 후에는 종료하지 않고 풀에 반환합니다.

### 주요 이점

- **성능 향상**: 커넥션을 매번 생성하고 종료하는 비용이 절감되어 응답 시간이 단축됩니다.
- **자원 효율성**: 제한된 수의 커넥션만을 사용하여 자원을 효율적으로 관리할 수 있습니다.
- **관리 용이성**: 커넥션의 생명주기를 중앙에서 관리할 수 있어 데이터베이스 부하를 조절하고 성능을 모니터링하기 용이합니다.

## 다양한 커넥션 풀의 종류

**JDBC 커넥션 풀**, **Tomcat 커넥션 풀**, **DBCP (Database Connection Pool)** 등 다양한 커넥션 풀 구현체들이 존재했습니다. 각 커넥션 풀은 나름대로의 장점과 성능을 제공했지만, **설정 복잡성**이나 **성능 문제** 때문에 완벽한 솔루션이 되지 못했습니다.

### 주요 커넥션 풀 구현체
- **JDBC CP**: JDBC 표준 기반의 기본 커넥션 풀. 기능이 제한적이며 성능도 중간 수준.
- **Tomcat CP**: Tomcat에서 제공하는 커넥션 풀로, 간단한 설정과 기본적인 성능을 제공.
- **DBCP**: Apache Commons 프로젝트에서 제공한 커넥션 풀로, 널리 사용되었지만 성능 문제와 과도한 설정 문제로 단점이 있었습니다.

### HikariCP의 등장

이러한 다양한 커넥션 풀의 단점을 보완하기 위해 등장한 것이 **HikariCP**입니다. HikariCP는 **빠르고 가볍고, 설정이 간단하면서도 성능이 뛰어난** 커넥션 풀로 주목받았으며, 여러 프레임워크에서 **표준 커넥션 풀로 자리 잡게 되었습니다**.

### HikariCP 통일
현재는 **HikariCP**가 성능과 안정성 면에서 우수하다는 평가를 받으며 **Spring Boot**와 같은 주요 프레임워크에서도 **기본 커넥션 풀**로 채택되어 널리 사용되고 있습니다.
