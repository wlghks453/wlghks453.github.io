---
layout: default
title: ìŠ¤í”„ë§ íŠ¸ëžœìž­ì…˜
parent: ìŠ¤í”„ë§
nav_order: 1
---

# ê²€ìƒ‰ì˜ì—­
{: .no_toc }

## ëª©ì°¨ëŠ” ì—¬ê¸°ì¸ ê²ƒ ê°™ì•„ìš”.
{: .no_toc .text-delta }

1. TOC
{:toc}

---

ì˜ˆì œ í•˜ìœ„ì¹´í…Œê³ ë¦¬1  ì˜ì—­

## ìŠ¤í”„ë§ íŠ¸ëžœìž­ì…˜ ì£¼ì˜ì‚¬í•­

@Transactional ì• ë…¸í…Œì´ì…˜ì´ íŠ¹ì • í´ëž˜ìŠ¤ë‚˜ ë©”ì„œë“œì— í•˜ë‚˜ë¼ë„ ìžˆìœ¼ë©´ íŠ¸ëžœìž­ì…˜ AOPëŠ” í”„ë¡ì‹œë¥¼ ë§Œë“¤ì–´ì„œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡í•œë‹¤. 
ê·¸ë¦¬ê³  ì‹¤ì œ Service ê°ì²´ ëŒ€ì‹ ì— í”„ë¡ì‹œì¸Service$$CGLIB`ë¥¼ ìŠ¤í”„ë§ ë¹ˆì— ë“±ë¡í•œë‹¤. ê·¸ë¦¬ê³  í”„ë¡ì‹œëŠ” ë‚´ë¶€ì— ì‹¤ì œ Serviceë¥¼ ì°¸ì¡°í•˜ê²Œ ëœë‹¤. 
ì—¬ê¸°ì„œ í•µì‹¬ì€ ì‹¤ì œ ê°ì²´ ëŒ€ì‹ ì— í”„ë¡ì‹œê°€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡ë˜ì—ˆë‹¤ëŠ” ì ì´ë‹¤.

### ë‚´ë¶€í˜¸ì¶œ

ì´ë¯¸ì§€ ë„£ê¸°ëŠ” ì¶”í›„

íŠ¸ëžœìž­ì…˜ì´ ì ìš©ë˜ì§€ ì•Šì€ ë©”ì†Œë“œ í˜¸ì¶œ > í•´ë‹¹ ë©”ì†Œë“œì—ì„œ íŠ¸ëžœìž­ì…˜ì´ ì ìš©ëœ ë©”ì†Œë“œ í˜¸ì¶œ > íŠ¸ëžœìž­ì…˜ ì ìš©X

ì´ìœ  : í”„ë¡ì‹œì—ì„œ í•´ë‹¹ë©”ì†Œë“œë¥¼ ì°¸ì¡°í–ˆì„ ë•Œ íŠ¸ëžœìž­ì…˜ ì ìš©ì´ ë˜ì§€ ì•ŠëŠ” ë©”ì†Œë“œì´ê¸° ë•Œë¬¸ì— íŠ¸ëžœìž­ì…˜ ì‹œìž‘ì„ ì•„ì˜ˆí•˜ì§€ ì•Šì•˜ë‹¤.

ì´í›„ íŠ¸ëžœìž­ì…˜ì´ ì ìš©ëœ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ë„ ì‹¤ì œ ì„œë¹„ìŠ¤ ë©”ì†Œë“œì—ì„œ THIS.Method()ë¥¼ ìˆ˜í–‰í•œê±°ë‚˜ ë§ˆì°¬ê°€ì§€ì´ë¯€ë¡œ íŠ¸ëžœìž­ì…˜ ì ìš© ë˜ì§€ ì•ŠëŠ”ë‹¤.

#### í•´ê²°ë°©ì•ˆ

ë‹¤ë¥¸ ì™¸ë¶€ í´ëž˜ìŠ¤ë¡œ ì˜®ê²¨ í”„ë¡ì‹œë¥¼ í†µí•´ í˜¸ì¶œë˜ë„ë¡ ìˆ˜ì •í•œë‹¤. (ê°€ìž¥ ë§Žì´ ì‚¬ìš©)

ì»´íŒŒì¼ ì‹œì , í´ëž˜ìŠ¤ ë¡œë” ì‹œì ì— íŠ¸ëžœìž­ì…˜ ì‹œìž‘, ì¢…ë£Œ ì½”ë“œë¡œ ê°ì‹¸ëŠ” ë°©ë²•ì´ ìžˆì§€ë§Œ ë³µìž¡í•¨.

### public íŠ¸ëžœìž­ì…˜ ì ìš©

íŠ¸ëžœìž­ì…˜ì€ ì£¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ì‹œìž‘ì ì— ê±¸ê¸° ë•Œë¬¸ì— ëŒ€ë¶€ë¶„ ì™¸ë¶€ì— ì—´ì–´ì¤€ ê³³ì„ ì‹œìž‘ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. 
ì´ëŸ° ì´ìœ ë¡œ public ë©”ì„œë“œì—ë§Œ íŠ¸ëžœìž­ì…˜ì„ ì ìš©í•˜ë„ë¡ ì„¤ì •ë˜ì–´ ìžˆë‹¤.
ðŸ˜ŽìŠ¤í”„ë§ ë¶€íŠ¸ 3.0ë¶€í„°ëŠ” protected, defaultì—ë„ íŠ¸ëžœìž­ì…˜ì´ ì ìš©ëœë‹¤.

### ì´ˆê¸°í™”

ì´ˆê¸°í™”í•˜ëŠ” ì¤‘ ì¼ë•ŒëŠ” íŠ¸ëžœìž­ì…˜ì´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.
@PostConstruct ì™€ @Transactional ê°™ì´ ì‚¬ìš©í•˜ë©´ íŠ¸ëžœìž­ì…˜ì´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.
ì™œëƒí•˜ë©´ ì´ˆê¸°í™” ì½”ë“œê°€ ë¨¼ì € í˜¸ì¶œë˜ê³ , ê·¸ ë‹¤ìŒì— íŠ¸ëžœìž­ì…˜ AOPê°€ ì ìš©ë˜ê¸° ë•Œë¬¸ì´ë‹¤. 
ë”°ë¼ì„œ ì´ˆê¸°í™” ì‹œì ì—ëŠ” í•´ë‹¹ ë©”ì„œë“œì—ì„œ íŠ¸ëžœìž­ì…˜ì„ íšë“í•  ìˆ˜ ì—†ë‹¤

#### í•´ê²°ë°©ì•ˆ

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì™„ë²½ížˆ ë–´ì„ ë•Œ ìˆ˜í–‰í•œë‹¤.

ê°€ìž¥ í™•ì‹¤í•œ ëŒ€ì•ˆì€  ApplicationReadyEvent ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

@EventListener(value = ApplicationReadyEvent.class)
@Transactional

### ì„œë¸Œ ì£¼ì œ5

The search button displays in the bottom right corner of the screen and triggers the search input when clicked.

```yaml
# Enable or disable the search button that appears in the bottom right corner of every page
# Supports true or false (default)
search.button: true
```

## ì£¼ì œ2

Sometimes you might have a page that you don't want to be indexed for the search nor to show up in search results, e.g., a 404 page.
To exclude a page from search, add the `search_exclude: true` parameter to the page's YAML front matter:

#### Example

{: .no_toc }

```yaml
---
layout: default
title: Page not found
nav_exclude: true
search_exclude: true
---

```

## Generate search index when used as a gem

If you use Just the Docs as a remote theme, you do not need the following steps.

If you use the theme as a gem, you must initialize the search by running this `rake` command that comes with `just-the-docs`:

```bash
$ bundle exec just-the-docs rake search:init
```

This command creates the `assets/js/zzzz-search-data.json` file that Jekyll uses to create your search index.
Alternatively, you can create the file manually with [this content]({{ site.github.repository_url }}/blob/main/assets/js/zzzz-search-data.json).

## Custom content for search index
{: .d-inline-block }

New (v0.4.0)
{: .label .label-green }

Advanced
{: .label .label-yellow }

By default, the search feature indexes a page's `.content`, `.title`, and *some* headers within the `.content`. Other data (e.g. front matter, files in `_data` and `assets`) is not indexed. Users can customize what is indexed.

{: .warning }
> Customizing search indices is an advanced feature that requires Javascript and Liquid knowledge.

1. When Just the Docs is a local or gem theme, ensure `assets/js/zzzz-search-data.json` is up-to-date with [Generate search index when used as a gem](#generate-search-index-when-used-as-a-gem).
2. Add a new file named `_includes/lunr/custom-data.json`. Insert custom Liquid code that reads your data (e.g. the page object at `include.page`) then generates custom Javascript fields that hold the custom data you want to index. Verify these fields in the generated `assets/js/search-data.json`.
3. Add a new file named `_includes/lunr/custom-index.js`. Insert custom Javascript code that reads your custom Javascript fields and inserts them into the search index. You may want to inspect `assets/js/just-the-docs.js` to better understand the code.

#### Example

This example adds front matter `usage` and `examples` fields to the search index.

`_includes/lunr/custom-data.json` custom code reads the page `usage` and `examples` fields, normalizes the text, and writes the text to custom Javascript `myusage` and `myexamples` fields. Javascript fields are similar yet [not the same as JSON](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON#javascript_and_json_differences). `jsonify` will probably work for most scenarios.

{% raw %}
```liquid
{%- capture newline %}
{% endcapture -%}
"myusage": {{ include.page.usage | markdownify | replace:newline,' ' | strip_html | normalize_whitespace | strip | jsonify }},
"myexamples": {{ include.page.examples | markdownify | replace:newline,' ' | strip_html | normalize_whitespace | strip | jsonify }},
```
{% endraw %}

`_includes/lunr/custom-index.js` custom code is inserted into the Javascript loop of `assets/js/just-the-docs.js`. All custom Javascript fields are accessed as fields of `docs[i]` such as `docs[i].myusage`. Finally, append your custom fields on to the already existing `docs[i].content`.

```javascript
const content_to_merge = [docs[i].content, docs[i].myusage, docs[i].myexamples];
docs[i].content = content_to_merge.join(' ');
```
